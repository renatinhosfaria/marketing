# FamaChat ML - Variáveis de Ambiente
# Copie este arquivo para .env e configure os valores

# ==================== Aplicação ====================
APP_NAME=FamaChat ML
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG

# ==================== Database ====================
# URL de conexão com o PostgreSQL (mesmo do FamaChat)
DATABASE_URL=postgresql://user:password@localhost:5432/famachat
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# ==================== Redis ====================
# URL para Celery broker e backend
REDIS_URL=redis://localhost:6380/0

# ==================== Segurança ====================
# API Key para autenticação (gerar com: python -c "import secrets; print(secrets.token_hex(32))")
ML_API_KEY=development-key-change-in-production

# ==================== Storage ====================
MODELS_STORAGE_PATH=/app/models_storage

# ==================== Timezone ====================
TIMEZONE=America/Sao_Paulo

# ==================== Flower (Monitoramento Celery) ====================
FLOWER_USER=admin
FLOWER_PASSWORD=change-this-password

# ==================== ML Configuration ====================
# Thresholds para recomendações (percentuais relativos à média)
THRESHOLD_CPL_LOW=0.7
THRESHOLD_CPL_HIGH=1.3
THRESHOLD_CTR_GOOD=1.2
THRESHOLD_FREQUENCY_HIGH=3.0
THRESHOLD_DAYS_UNDERPERFORMING=7

# Configurações de treinamento
ML_MIN_SAMPLES_FOR_TRAINING=30
ML_DEFAULT_HORIZON_DAYS=7

# ==================== Limites ====================
MAX_CONCURRENT_PREDICTIONS=10
CACHE_TTL_SECONDS=3600

# ==================== Multi-Agent System ====================
# Habilitar sistema multi-agente hierárquico (orchestrator + 6 subagentes)
# Development: false | Staging: true | Production: gradual rollout
AGENT_MULTI_AGENT_ENABLED=false
AGENT_ORCHESTRATOR_TIMEOUT=120
AGENT_MAX_PARALLEL_SUBAGENTS=4

# Subagent Timeouts
AGENT_TIMEOUT_CLASSIFICATION=30
AGENT_TIMEOUT_ANOMALY=30
AGENT_TIMEOUT_FORECAST=45
AGENT_TIMEOUT_RECOMMENDATION=30
AGENT_TIMEOUT_CAMPAIGN=20
AGENT_TIMEOUT_ANALYSIS=45

# Synthesis
AGENT_SYNTHESIS_MAX_TOKENS=4096
AGENT_SYNTHESIS_TEMPERATURE=0.3

# Retry
AGENT_SUBAGENT_MAX_RETRIES=2
AGENT_SUBAGENT_RETRY_DELAY=1.0
